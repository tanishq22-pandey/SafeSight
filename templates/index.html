{% extends 'layout.html' %}

{% block title %}Upload Image{% endblock %}

{% block content %}
<!-- Upload Section -->
<section class="upload-section text-center">
    <div class="container">
        <h1 class="upload-title">Upload Your Image and Let SafeSight Do Its Thing!</h1>
        <p class="upload-subtitle">Choose an image file and let SafeSight generate an intelligent description for you.</p>
        <div class="upload-card shadow p-4 rounded">
            <form action="/upload" method="post" enctype="multipart/form-data">
                <!-- File Upload -->
                <div class="mb-4">
                    <label for="image" class="form-label">Choose an image:</label>
                    <input class="form-control form-control-lg" type="file" id="image" name="image" accept="image/*" required>
                </div>
                
                <!-- Priority Checkboxes -->
                <div class="priority-section mt-4 text-start">
                    <label class="form-label">Security Level:</label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="lowPriority" name="priority" value="low" onclick="uncheckOther(this)">
                        <label class="form-check-label" for="lowPriority">LOW PRIORITY</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="highPriority" name="priority" value="high" onclick="uncheckOther(this)">
                        <label class="form-check-label" for="highPriority">HIGH PRIORITY</label>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="mt-4">
                    <button type="submit" class="btn btn-primary upload-button">Upload Image</button>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- JavaScript for Checkbox Logic -->
<script>
    function uncheckOther(clickedCheckbox) {
        const checkboxes = document.querySelectorAll('input[name="priority"]');
        checkboxes.forEach((checkbox) => {
            if (checkbox !== clickedCheckbox) {
                checkbox.checked = false;
            }
        });
    }
</script>
{% endblock %}